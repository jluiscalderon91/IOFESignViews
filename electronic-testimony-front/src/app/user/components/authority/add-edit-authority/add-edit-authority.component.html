<div class="modal-content">
  <div class="modal-header">
    <h4 class="modal-title">Agregar permiso</h4>
    <button type="button" class="close" aria-label="Close" (click)="activeModal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form [formGroup]="authorityForm">
      <div class="form-row">
        <div class="form-group col-md-10">
          <label for="moduleInput"><b>Módulo</b></label>
          <select id="moduleInput"
                  class="form-control"
                  formControlName="module"
                  [(ngModel)]="authority.module"
                  [class.is-invalid]="isInvalidControl('module')">
            <option *ngFor="let module of modules" [ngValue]="module.id">{{module.description}}</option>
          </select>
          <small *ngIf="isInvalidControl('module')"
                 class="text-danger">
            Debe seleccionar el módulo al que pertenece el permiso
          </small>
        </div>
        <div class="form-group col-md-2 custom-align-center">
          <label class="font-weight-bold" for="onlySuperadminCheckbox">Súperadm</label>
          <div class="custom-control custom-checkbox my-1 mr-sm-2">
            <input type="checkbox"
                   class="custom-control-input"
                   id="onlySuperadminCheckbox"
                   [(ngModel)]="authority.onlySuperadmin"
                   formControlName="onlySuperadmin">
            <label class="custom-control-label" for="onlySuperadminCheckbox"></label>
          </div>
        </div>
      </div>
      <div class="form-group">
        <label for="codeInput"><b>Código</b></label>
        <input type="text"
               id="codeInput"
               class="form-control"
               placeholder="Ingrese código del permiso"
               [(ngModel)]="authority.code"
               formControlName="code"
               [class.is-invalid]="isInvalidControl('code')">
        <small *ngIf="isInvalidControl('code')"
               class="text-danger">
          Debe ingresar el código del permiso
        </small>
      </div>
      <div class="form-group">
        <label for="descriptionInput"><b>Descripción</b></label>
        <textarea type="text"
                  id="descriptionInput"
                  class="form-control"
                  placeholder="Ingrese descripción del permiso"
                  [(ngModel)]="authority.description"
                  formControlName="description"
                  [class.is-invalid]="isInvalidControl('description')">
        </textarea>
        <small *ngIf="isInvalidControl('description')"
               class="text-danger">
          Debe ingresar la descripción del permiso
        </small>
      </div>
      <div class="row">
        <div class="col" *ngIf="!isNewAuthority">
          <label for="state" class="col-form-label">Estado</label>
          <select class="form-control"
                  id="state"
                  formControlName="status"
                  [(ngModel)]="authority.active"
                  [class.is-invalid]="isInvalidControl('status')">
            <option [value]="1">Activo</option>
            <option [value]="0">Inactivo</option>
          </select>
        </div>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <div class="container">
      <div class="row justify-content-end">
        <div class="btn-padding-dlg">
          <button type="button" class="btn btn-outline-primary w-100" (click)="save()">Guardar
          </button>
        </div>
        <div class="btn-padding-dlg">
          <button type="button" class="btn btn-outline-danger w-100" (click)="cancel()">Cancelar
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
<app-loading *ngIf="loading"></app-loading>
